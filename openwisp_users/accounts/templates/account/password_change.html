{% extends "account/base_manage.html" %}

{% load i18n %}
{% load static %}

{% block title %}{% trans "Change Password" %}{% endblock %}

{% block extrastyle %}
{{ block.super }}
<link rel="stylesheet" type="text/css" href="{% static 'openwisp-users/accounts/css/change-password.css' %}" />
{% endblock extrastyle %}

{% block content %}
<h1>{% trans "Change Password" %}</h1>

<form method="POST" action="{% url 'account_change_password' %}" class="password_change">
    {% csrf_token %}
    <fieldset class="aligned">
        <div class="form-row">
            {{ form.oldpassword.errors }}
            {{ form.oldpassword.label_tag }}
            {{ form.oldpassword }}
            {% if form.oldpassword.help_text %}
            <div class="help" {% if form.oldpassword.id_for_label %} id="{{ form.oldpassword.id_for_label }}_helptext"
                {% endif %}>{{ form.oldpassword.help_text|safe }}</div>
            {% endif %}
        </div>
        <div class="form-row">
            {{ form.password1.errors }}
            {{ form.password1.label_tag }}
            {{ form.password1 }}
            {% if form.password1.help_text %}
            <div class="help" {% if form.password1.id_for_label %} id="{{ form.password1.id_for_label }}_helptext"
                {% endif %}>{{ form.password1.help_text|safe }}</div>
            {% endif %}
        </div>
        <div class="form-row">
            {{ form.password2.errors }}
            {{ form.password2.label_tag }}
            {{ form.password2 }}
            {% if form.password2.help_text %}
            <div class="help" {% if form.password2.id_for_label %} id="{{ form.password2.id_for_label }}_helptext"
                {% endif %}>{{ form.password2.help_text|safe }}</div>
            {% endif %}
        </div>
    </fieldset>
    <div class="form-row submit-row">
        <input type="submit" name="action" value="{% translate 'Change password' %}" class="default button">
        <a href="{% url 'account_reset_password' %}" class="button">{% trans "Forgot Password?" %}</a>
    </div>
</form>
{% endblock %}
